name = "openfront-discord-bot"
main = "src/worker.ts"
compatibility_date = "2024-01-01"

# Environment variables are set via:
# wrangler secret put DISCORD_TOKEN
# wrangler secret put DISCORD_PUBLIC_KEY
# wrangler secret put DISCORD_CLIENT_ID

# KV namespace for guild configs and posted games
# Create with: wrangler kv namespace create DATA
# Then add the id below
kv_namespaces = [
  { binding = "DATA", id = "YOUR_KV_NAMESPACE_ID" }
]

# Scheduled task runs every 15 minutes
[triggers]
crons = ["*/15 * * * *"]
