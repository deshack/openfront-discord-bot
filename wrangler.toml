name = "openfront-discord-bot"
main = "src/worker.ts"
compatibility_date = "2026-01-18"

# Environment variables are set via:
# wrangler secret put DISCORD_TOKEN
# wrangler secret put DISCORD_PUBLIC_KEY
# wrangler secret put DISCORD_CLIENT_ID

# KV namespace for guild configs and posted games
# Create with: wrangler kv namespace create DATA
# Then add the id below
kv_namespaces = [
  { binding = "DATA", id = "e20449398e34450cb82b29c34628a401" }
]

# Scheduled task runs every 15 minutes
[triggers]
crons = ["*/15 * * * *"]

[observability]
[observability.logs]
enabled = true
invocation_logs = true
